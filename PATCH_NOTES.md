# TryAngle 패치 노트

## v1.4.0 - 2025-11-18 20:52

### 🚀 대규모 시스템 개편

#### 1. 카메라 비율 시스템 완전 재설계
- **실제 iPhone 카메라 방식으로 변경**
  - 4:3 - 전체 화면 사용 (카메라 센서 기본 비율)
  - 1:1 - 정사각형, 화면 너비 기준
  - 16:9 - 와이드, 가장 좁은 높이
- **비율별 마스크 오버레이**
  - 캡처되지 않는 영역을 어둡게 표시 (0.7 opacity)
  - 위아래 마스크로 정확한 촬영 범위 시각화
  - 기본 카메라 앱과 동일한 UX 제공

#### 2. 프레이밍 분석 시스템 신규 도입 (핵심 개선)
- **FramingAnalyzer 추가** - 가장 중요한 개선
  - 레퍼런스 이미지의 구도를 정밀 분석
  - 인물 크기, 여백, 보이는 신체 부위 자동 감지
  - 6단계 구도 타입 자동 분류:
    - 전신 (fullBody)
    - 무릎샷 (threeQuarter)
    - 허리샷 (halfBody)
    - 상반신 (upperBody)
    - 헤드샷 (headAndShoulder)
    - 클로즈업 (closeUp)

- **구체적인 액션 제안**
  - 줌인/줌아웃 (정확한 배율 포함)
  - 카메라 가까이/멀리 이동
  - 비율 변경 제안
  - 레퍼런스와 현재 구도 정밀 비교

#### 3. 포즈 감지 시스템 고도화
- **부분 포즈 감지 지원**
  - 관절이 일부 가려져도 분석 가능
  - 레퍼런스에 없는 부위는 피드백하지 않음
  - 포즈 타입별 중요 부위 자동 정의

- **포즈 타입 기반 분석**
  - 전신: 머리, 어깨, 팔, 몸통, 다리 모두 체크
  - 상반신: 머리, 어깨, 팔, 몸통만 체크
  - 흉상: 머리, 어깨만 체크
  - 중요 부위 누락시에만 알림

#### 4. UI 전면 간소화
- **SimplifiedFeedbackOverlay 신규 컴포넌트**
  - 가장 중요한 피드백 1개만 표시
  - 완성도 퍼센트 및 프로그레스 바
  - 상태별 색상 코딩:
    - 빨강 (~50%) → 주황 (~70%) → 파랑 (~90%) → 초록 (90%+)

- **미니멀 컨트롤**
  - 상단: 비율, 그리드, 플래시만
  - 하단: 촬영, 카메라 전환만
  - 불필요한 버튼 제거로 집중도 향상

#### 5. 피드백 시스템 우선순위 재정의
- **새로운 우선순위:**
  1. 📐 프레이밍 (줌/거리) - 최우선
  2. 💪 포즈 (자세)
  3. 📍 위치 (좌우/상하)
  4. 📷 앵글, 🎨 구도, 👀 시선

- **프레이밍 피드백이 최우선으로 표시**
  - "화면을 확대해주세요 (인물이 너무 작아요)"
  - "카메라를 인물에게 가까이 이동하세요"
  - "비율을 4:3로 변경하세요"

### 🎨 UI/UX 개선
- 산만한 UI 요소 제거
- 피드백 메시지 간소화
- 레퍼런스 썸네일 뷰 추가 (선택적 표시)

### 🧠 분석 로직 개선
- 레퍼런스 기반 지능형 분석
- 구도 이해 능력 향상
- 부분적으로 보이는 포즈도 정확히 해석

### ⚡ 성능 최적화
- 프레이밍 분석 우선 처리로 빠른 피드백
- 중요하지 않은 분석 후순위 처리

---

## v1.3.0 - 2025-11-18 19:56

### 🎯 주요 개선사항

#### 피드백 시스템 대폭 개선
- **포즈 피드백 구체화**
  - 기존: "왼팔 각도 조정" → 변경: "왼팔을 더 올려주세요 (약 25도)"
  - 팔/다리 각도 차이를 숫자로 표시
  - 올리기/내리기, 굽히기/펴기 등 구체적인 방향 지시

- **피드백 안정성 개선**
  - "비교할 수 없습니다" 메시지가 한 번 표시되면 해결될 때까지 계속 유지
  - 고정 피드백(Sticky Feedback) 시스템 구현
  - 5번 연속 해결 확인 후에만 제거 (깜빡임 방지)

- **위/아래 피드백 방향 수정**
  - 인물 기준 → **카메라 기준**으로 변경
  - "조금 더 위쪽으로" → "카메라를 위로 이동하세요"
  - 훨씬 직관적인 가이드 제공

#### 완료 이펙트 추가
- 피드백 완료 시 초록색 "완료!" 메시지 표시
- 1.5초 동안 표시 후 페이드아웃 애니메이션
- 성취감을 주는 시각적 피드백

#### 화면 비율 & 여백 감지
- **카메라 비율 자동 감지** (16:9, 4:3, 1:1)
- **비율 선택 UI** 추가 (상단 오른쪽)
- **과도한 여백 감지**
  - 15% 이상 여백 시 "줌인하세요" 피드백
  - 상/하/좌/우 여백 개별 분석

#### 카테고리별 체크리스트
- 6가지 평가 카테고리 시각화
  1. 💪 포즈 (1순위)
  2. 📍 인물 위치 (2순위)
  3. 🔍 프레이밍 (3순위)
  4. 📷 카메라 앵글 (4순위)
  5. 🎨 구도 (5순위)
  6. 👀 시선 (6순위)
- 실시간 체크/해제 애니메이션
- 우선순위 배지 표시

### 🐛 버그 수정
- 사진 저장 시 회전 버그 수정
- PHPhotoLibrary 사용으로 방향 정보 유지

### ⚙️ 성능 개선
- 프레임 분석 주기: 60fps → 10fps (민감도 감소)
- 히스테리시스 임계값: 3프레임 → 10프레임 (약 1초)
- 허용 오차 증가:
  - 위치 X/Y: 5% → 8%
  - 거리: 20cm → 30cm
  - 기울기: 3도 → 5도
  - 얼굴 각도: 10도 → 15도

---

## v1.2.0 - 2025-11-18 17:00

### 🆕 새로운 기능
- **V1 핵심 컴포넌트 통합**
  - CompositionAnalyzer: 3분할법 기반 구도 분석
  - CameraAngleDetector: 카메라 앵글 자동 감지 (하이앵글/아이레벨/로우앵글/더치틸트)
  - AdaptivePoseComparator: 적응형 포즈 비교 (전신/상반신/얼굴 자동 감지)
  - GapAnalyzer: 차이 분석 및 우선순위 계산
  - FeedbackGenerator: 실시간 피드백 생성

- **추가 분석 기능**
  - GazeTracker: 시선 방향 추적
  - DepthEstimator: 거리 추정 (얼굴 크기 기반)
  - 모듈화된 VisionAnalyzer

### 🎨 UI 개선
- 실시간 피드백 오버레이
- 완성도 점수 표시 (0~100%)
- 진행 상황 프로그레스 바

---

## v1.1.0 - 2025-11-17

### 🆕 새로운 기능
- 실시간 프레임 분석 시스템
- 레퍼런스 이미지 기반 비교
- 기본 피드백 시스템

### 🎨 UI
- 카메라 프리뷰
- 그리드 오버레이
- 플래시/카메라 전환 기능

---

## v1.0.0 - 2025-11-16

### 🎉 초기 릴리즈
- 프로젝트 생성
- 기본 카메라 기능
- Vision 프레임워크 통합
- 얼굴/포즈 감지 기능
