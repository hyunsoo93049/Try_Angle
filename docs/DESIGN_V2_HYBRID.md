# ğŸ¬ Try_Angle V2: í•˜ì´ë¸Œë¦¬ë“œ ì„¤ê³„

**ë²„ì „**: 2.0 (Hybrid: On-Device + Server)
**ì‘ì„±ì¼**: 2025-11-18
**ëª©í‘œ**: V1 ì˜¨ë””ë°”ì´ìŠ¤ ê¸°ë°˜ì— ì„œë²„ AIë¥¼ ì¶”ê°€í•˜ì—¬ ì •í™•ë„ì™€ ì´í•´ë„ ê·¹ëŒ€í™”

---

## ğŸ“‹ ëª©ì°¨

1. [ì„¤ê³„ ì² í•™](#1-ì„¤ê³„-ì² í•™)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#2-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°](#3-ì»´í¬ë„ŒíŠ¸-êµ¬ì¡°)
4. [ë°ì´í„° ëª¨ë¸](#4-ë°ì´í„°-ëª¨ë¸)
5. [ì²˜ë¦¬ í”Œë¡œìš°](#5-ì²˜ë¦¬-í”Œë¡œìš°)
6. [ì„œë²„ ì•„í‚¤í…ì²˜](#6-ì„œë²„-ì•„í‚¤í…ì²˜)
7. [í†µì‹  í”„ë¡œí† ì½œ](#7-í†µì‹ -í”„ë¡œí† ì½œ)
8. [íŒŒì¼ êµ¬ì¡°](#8-íŒŒì¼-êµ¬ì¡°)
9. [ì„±ëŠ¥ ëª©í‘œ](#9-ì„±ëŠ¥-ëª©í‘œ)
10. [V1ì—ì„œ V2ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜](#10-v1ì—ì„œ-v2ë¡œ-ë§ˆì´ê·¸ë ˆì´ì…˜)

---

## 1. ì„¤ê³„ ì² í•™

### 1.1 í•µì‹¬ ì›ì¹™

```
"Best of Both Worlds"

1. ì˜¨ë””ë°”ì´ìŠ¤ ìš°ì„  (Device-First)
   - V1ì˜ ëª¨ë“  ê¸°ëŠ¥ ìœ ì§€
   - í•­ìƒ ë¶€ë“œëŸ½ê²Œ ì‘ë™ (40-60fps)
   - ì„œë²„ ì—†ì–´ë„ ì™„ì „íˆ ì‘ë™

2. ì ì§„ì  ê°œì„  (Progressive Enhancement)
   - ì˜¨ë””ë°”ì´ìŠ¤: ì¦‰ê°ì  ê¸°ë³¸ í”¼ë“œë°±
   - ì„œë²„: ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì •ë°€ ë¶„ì„
   - ì‚¬ìš©ìëŠ” ì ì  ì •í™•í•´ì§€ëŠ” í”¼ë“œë°± ê²½í—˜

3. ì¥ì•  í—ˆìš© (Fault Tolerance)
   - ë„¤íŠ¸ì›Œí¬ ëŠê¹€ â†’ ì˜¨ë””ë°”ì´ìŠ¤ë¡œ Fallback
   - ì„œë²„ ì˜¤ë¥˜ â†’ ì˜¨ë””ë°”ì´ìŠ¤ ê³„ì† ì‘ë™
   - ì‚¬ìš©ìëŠ” ì¤‘ë‹¨ ì—†ì´ ì‚¬ìš©

4. ì§€ëŠ¥ì  ì „ì†¡ (Smart Transmission)
   - ë³€í™” ê°ì§€ ì‹œì—ë§Œ ì„œë²„ ì „ì†¡
   - ì¤‘ë³µ ì „ì†¡ ë°©ì§€
   - ëŒ€ì—­í­ ìµœì†Œí™”
```

### 1.2 V1 vs V2 ë¹„êµ

| í•­ëª© | V1 (ì˜¨ë””ë°”ì´ìŠ¤) | V2 (í•˜ì´ë¸Œë¦¬ë“œ) |
|------|----------------|----------------|
| **êµ¬ë„ ì´í•´** | â­â­â­ ë£° ê¸°ë°˜ | â­â­â­â­â­ Florence-2 AI |
| **ì •ë°€ ì¸¡ì •** | â­â­â­ ë„¤ì´í‹°ë¸Œ | â­â­â­â­â­ Grounding DINO |
| **ê¹Šì´ ë¶„ì„** | â­â­ ARKit/ARCore | â­â­â­â­â­ Depth Anything V2 |
| **FPS** | â­â­â­â­â­ 40-60 | â­â­â­â­â­ 40-60 (ë™ì¼!) |
| **ì •í™•ë„** | â­â­â­ ì–‘í˜¸ | â­â­â­â­â­ ìµœê³  |
| **ë¹„ìš©** | $0 | $245-872/ì›” |
| **ì˜¤í”„ë¼ì¸** | âœ… ì‘ë™ | âœ… ì‘ë™ (V1 ëª¨ë“œ) |

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 3-Tier Hybrid Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Try_Angle V2 Hybrid                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tier 1: Real-time (ë””ë°”ì´ìŠ¤, í•­ìƒ ì‘ë™)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ V1 ì˜¨ë””ë°”ì´ìŠ¤ ì‹œìŠ¤í…œ ê·¸ëŒ€ë¡œ                        â”‚
â”‚    - Vision/ML Kit ë¶„ì„                              â”‚
â”‚    - ë£° ê¸°ë°˜ êµ¬ë„/ì•µê¸€ ê°ì§€                           â”‚
â”‚    - ì¦‰ê°ì ì¸ ê¸°ë³¸ í”¼ë“œë°±                             â”‚
â”‚                                                       â”‚
â”‚  FPS: 40-60 fps                                       â”‚
â”‚  ì§€ì—°: 20-30ms                                        â”‚
â”‚  ì •í™•ë„: â­â­â­                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tier 2: Smart Sampling (ë””ë°”ì´ìŠ¤, ì„ íƒì )           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ë³€í™” ê°ì§€ ì‹œìŠ¤í…œ                                   â”‚
â”‚    - í”„ë ˆì„ ê°„ ì°¨ì´ ê³„ì‚°                              â”‚
â”‚    - ì„ê³„ê°’ ì´ˆê³¼ ì‹œ Tier 3 íŠ¸ë¦¬ê±°                     â”‚
â”‚    - ì¤‘ë³µ ì „ì†¡ ë°©ì§€                                   â”‚
â”‚                                                       â”‚
â”‚  ì „ì†¡ ë¹ˆë„: 1-2ì´ˆë§ˆë‹¤ (ë³€í™” ìˆì„ ë•Œë§Œ)                â”‚
â”‚  ëŒ€ì—­í­: ~40KB per request                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tier 3: Precise Analysis (ì„œë²„, ë°±ê·¸ë¼ìš´ë“œ)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ AI ëª¨ë¸ ìŠ¤íƒ                                       â”‚
â”‚    - Florence-2: êµ¬ë„ ì˜ë„ ì´í•´                       â”‚
â”‚    - Grounding DINO: ì •ë°€ ê°ì²´ ìœ„ì¹˜                   â”‚
â”‚    - Depth Anything V2: ê¹Šì´ ë¶„ì„                     â”‚
â”‚    - MoveNet/MediaPipe: í¬ì¦ˆ ì •ë°€í™”                   â”‚
â”‚                                                       â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 80ms (TensorRT)                           â”‚
â”‚  ì •í™•ë„: â­â­â­â­â­                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Fusion Layer (ë””ë°”ì´ìŠ¤)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Tier 1 + Tier 3 ê²°ê³¼ í†µí•©                          â”‚
â”‚    - Tier 1: í•­ìƒ í‘œì‹œ (ì¦‰ê°ì )                       â”‚
â”‚    - Tier 3: ë„ì°© ì‹œ ì ì§„ì  ì—…ë°ì´íŠ¸                  â”‚
â”‚    - Smooth Transition (ì• ë‹ˆë©”ì´ì…˜)                  â”‚
â”‚                                                       â”‚
â”‚  ì‚¬ìš©ì ê²½í—˜: ë¶€ë“œëŸ½ê²Œ ì ì  ì •í™•í•´ì§                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 System Flow Diagram

```
ğŸ“± Client (iOS/Android)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Tier 1: Realtime (V1 Engine)         â”‚ â”‚
â”‚  â”‚   - Vision/ML Kit                      â”‚ â”‚
â”‚  â”‚   - 40-60 fps                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â†“                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Tier 2: Smart Sampler                â”‚ â”‚
â”‚  â”‚   - Change Detection                   â”‚ â”‚
â”‚  â”‚   - Throttling (1-2s)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â†“ (ë³€í™” ê°ì§€ ì‹œë§Œ)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ Network (ë¡œì»¬ WiFi or ì¸í„°ë„·)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ–¥ï¸ Server (RTX 4070 Super / AWS)           â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   FastAPI (8000ë²ˆ í¬íŠ¸)                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â†“                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   AI Director Engine                   â”‚ â”‚
â”‚  â”‚   - Florence-2                         â”‚ â”‚
â”‚  â”‚   - Grounding DINO                     â”‚ â”‚
â”‚  â”‚   - Depth Anything V2                  â”‚ â”‚
â”‚  â”‚   - MoveNet Thunder                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â†“                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Response (JSON)                      â”‚ â”‚
â”‚  â”‚   - Precise Feedbacks                  â”‚ â”‚
â”‚  â”‚   - Composition Intent                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“± Client                                   â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Fusion Layer                         â”‚ â”‚
â”‚  â”‚   - Merge Tier 1 + Tier 3              â”‚ â”‚
â”‚  â”‚   - Update UI (Smooth)                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### 3.1 í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ (V1 í™•ì¥)

#### **3.1.1 HybridDirector** (V1ì˜ RealtimeDirector í™•ì¥)

```
ì—­í• : V1 + ì„œë²„ í†µì‹  í†µí•© ê´€ë¦¬

V1ì—ì„œ ìƒì†:
  - analyzeReference()
  - processFrame() (Tier 1)

V2 ì¶”ê°€:
  - startServerMode()
  - stopServerMode()
  - sendToServer(frame)
  - handleServerResponse(response)

ìƒíƒœ ê´€ë¦¬:
  - isServerAvailable: Bool
  - lastServerSyncTime: Date
  - serverFeedbackCache: [Feedback]?
  - connectionStatus: ConnectionStatus

ë©”ì„œë“œ:
  // Tier 1 (V1 ê·¸ëŒ€ë¡œ)
  processRealtimeFrame(frame) â†’ List<Feedback>

  // Tier 2 (ìƒˆë¡œ ì¶”ê°€)
  shouldSendToServer(frame) â†’ Bool

  // Tier 3 (ìƒˆë¡œ ì¶”ê°€)
  async sendToServer(frame)
  handleServerResponse(response)

  // Fusion (ìƒˆë¡œ ì¶”ê°€)
  mergeFeedbacks(tier1, tier3) â†’ List<Feedback>
```

#### **3.1.2 SmartSampler** (ìƒˆ ì»´í¬ë„ŒíŠ¸)

```
ì—­í• : ì„œë²„ ì „ì†¡ ìµœì í™”

ì±…ì„:
  - í”„ë ˆì„ ê°„ ë³€í™” ê°ì§€
  - ì „ì†¡ ë¹ˆë„ ì œì–´ (throttling)
  - ì¤‘ë³µ ì „ì†¡ ë°©ì§€

ë©”ì„œë“œ:
  shouldSample(currentFrame, lastSentFrame) â†’ Bool
  calculateFrameDifference(f1, f2) â†’ Float

ì•Œê³ ë¦¬ì¦˜:
  1. Histogram ì°¨ì´ ê³„ì‚°
  2. ì„ê³„ê°’ ë¹„êµ (ê¸°ë³¸ 15%)
  3. ë§ˆì§€ë§‰ ì „ì†¡ ì‹œê°„ ì²´í¬ (ìµœì†Œ 1ì´ˆ)
  4. ì¡°ê±´ ë§Œì¡± ì‹œ true ë°˜í™˜
```

#### **3.1.3 ServerClient** (ìƒˆ ì»´í¬ë„ŒíŠ¸)

```
ì—­í• : ì„œë²„ í†µì‹  ì¶”ìƒí™”

ì±…ì„:
  - HTTP/WebSocket í†µì‹ 
  - ì¬ì‹œë„ ë¡œì§
  - íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬
  - ì—ëŸ¬ í•¸ë“¤ë§

ë©”ì„œë“œ:
  async analyzeReference(image) â†’ ServerReferenceData
  async analyzePrecise(frame) â†’ ServerFeedbackResponse
  checkServerHealth() â†’ Bool

ì„¤ì •:
  - baseURL: String
  - timeout: TimeInterval (5ì´ˆ)
  - maxRetries: Int (2íšŒ)
```

#### **3.1.4 FusionLayer** (ìƒˆ ì»´í¬ë„ŒíŠ¸)

```
ì—­í• : Tier 1 + Tier 3 í”¼ë“œë°± í†µí•©

ì±…ì„:
  - ë‘ ì†ŒìŠ¤ì˜ í”¼ë“œë°± ë³‘í•©
  - ì¤‘ë³µ ì œê±°
  - ìš°ì„ ìˆœìœ„ ì¬ì •ë ¬
  - Smooth transition

ë©”ì„œë“œ:
  merge(tier1Feedbacks, tier3Feedbacks) â†’ List<Feedback>
  deduplicateFeedbacks(feedbacks) â†’ List<Feedback>
  animateTransition(old, new)

ë¡œì§:
  1. Tier 3 ìµœìš°ì„  (ë” ì •í™•)
  2. Tier 1ì€ Tier 3 ì—†ëŠ” ì¹´í…Œê³ ë¦¬ë§Œ
  3. ë¶€ë“œëŸ¬ìš´ ì „í™˜ (í˜ì´ë“œ ì¸/ì•„ì›ƒ)
```

### 3.2 ì„œë²„ ì»´í¬ë„ŒíŠ¸

#### **3.2.1 FastAPI Server**

```
ì—­í• : HTTP API ì œê³µ

ì—”ë“œí¬ì¸íŠ¸:
  POST /api/v2/analyze-reference
    - Input: Multipart image
    - Output: ReferenceIntentData
    - ì²˜ë¦¬ ì‹œê°„: ~200ms (TensorRT)

  POST /api/v2/analyze-precise
    - Input: Multipart image + reference_id
    - Output: PreciseFeedbackResponse
    - ì²˜ë¦¬ ì‹œê°„: ~80ms (TensorRT)

  GET /api/v2/health
    - Output: {status, gpu_available, models_loaded}

ë¯¸ë“¤ì›¨ì–´:
  - CORS ì„¤ì •
  - Rate Limiting (DDoS ë°©ì§€)
  - Request Logging
```

#### **3.2.2 AIDirectorEngine** (ì„œë²„ ë©”ì¸ ë¡œì§)

```
ì—­í• : ëª¨ë“  AI ëª¨ë¸ í†µí•©

ì±…ì„:
  - Florence-2ë¡œ ì˜ë„ íŒŒì•…
  - Grounding DINOë¡œ ì •ë°€ ì¸¡ì •
  - Depth Anything V2ë¡œ ê¹Šì´ ë¶„ì„
  - í”¼ë“œë°± ìƒì„±

ë©”ì„œë“œ:
  analyzeReference(image) â†’ IntentData
    - Florence-2 <CAPTION> + <OD>
    - êµ¬ë„, ì¡°ëª…, í¬ì¦ˆ ì˜ë„ íŒŒì•…

  analyzePrecise(image, referenceIntent) â†’ FeedbackList
    - Grounding DINO ì¸¡ì •
    - Depth ë¶„ì„
    - Gap ê³„ì‚°
    - ê³ ê¸‰ í”¼ë“œë°± ìƒì„±
```

#### **3.2.3 Model Managers**

```
Florence2Manager:
  - ëª¨ë¸ ë¡œë”©/ìºì‹±
  - Prompt ê´€ë¦¬
  - TensorRT ìµœì í™”

GroundingDINOManager:
  - ê°ì²´ íƒì§€
  - Bbox ì¶”ì¶œ
  - ê·¸ë¦¬ë“œ ë¹„êµ

DepthAnythingV2Manager:
  - ê¹Šì´ ë§µ ìƒì„±
  - ë ˆì´ì–´ ë¶„ë¦¬
  - ê±°ë¦¬ ê³„ì‚°
```

---

## 4. ë°ì´í„° ëª¨ë¸

### 4.1 í´ë¼ì´ì–¸íŠ¸ ë°ì´í„° ëª¨ë¸ (V1 í™•ì¥)

#### **4.1.1 HybridReferenceData** (V1 í™•ì¥)

```swift
struct HybridReferenceData {
    // V1 ë°ì´í„° (ì˜¨ë””ë°”ì´ìŠ¤)
    let deviceData: ReferenceData

    // V2 ì¶”ê°€: ì„œë²„ ë°ì´í„° (ì„ íƒ)
    var serverData: ServerReferenceData?

    // ë©”íƒ€ë°ì´í„°
    let createdAt: Date
    let hasServerData: Bool
}

struct ServerReferenceData {
    // Florence-2 ë¶„ì„ ê²°ê³¼
    let compositionIntent: CompositionIntent
    let lightingIntent: LightingIntent
    let poseIntent: PoseIntent

    // ê³ ê¸‰ ì¸¡ì •ê°’
    let precisePosition: CGPoint
    let depthMap: DepthAnalysis

    // ì›ë³¸ ì‘ë‹µ
    let rawResponse: JSON
}

struct CompositionIntent {
    let primaryRule: String           // "rule_of_thirds"
    let subjectPlacement: String      // "left_upper_intersection"
    let reasoning: String             // "dynamic asymmetry..."
    let techniqueSummary: String      // ì „ì²´ ìš”ì•½
}
```

#### **4.1.2 HybridFeedback** (V1 í™•ì¥)

```swift
struct HybridFeedback {
    // V1 ê¸°ë³¸ í•„ë“œ
    let id: UUID
    let priority: Int
    let category: FeedbackCategory
    let icon: String
    let message: String
    let reason: String?

    // V2 ì¶”ê°€: ì¶œì²˜
    let source: FeedbackSource        // .device or .server

    // V2 ì¶”ê°€: ê³ ê¸‰ ì •ë³´
    let alternativeAction: String?    // "ë˜ëŠ” ì¹´ë©”ë¼ë¥¼..."
    let technicalDetail: String?      // "ë°°ê²½ ì••ì¶•..."

    // ê¸°íƒ€ (V1ê³¼ ë™ì¼)
    let currentValue: Float?
    let targetValue: Float?
    let unit: String?
    let tolerance: Float?
    let isCompleted: Bool
}

enum FeedbackSource {
    case device      // Tier 1 (ì¦‰ê°ì )
    case server      // Tier 3 (ì •ë°€)
}
```

### 4.2 ì„œë²„ ë°ì´í„° ëª¨ë¸

#### **4.2.1 API Request Models**

```python
# POST /api/v2/analyze-reference
class AnalyzeReferenceRequest(BaseModel):
    image: UploadFile
    user_id: Optional[str]

class AnalyzeReferenceResponse(BaseModel):
    reference_id: str
    composition_intent: CompositionIntent
    lighting_intent: LightingIntent
    pose_intent: PoseIntent
    precise_position: Point
    depth_analysis: DepthAnalysis
    processing_time_ms: int

# POST /api/v2/analyze-precise
class AnalyzePreciseRequest(BaseModel):
    image: UploadFile
    reference_id: str

class AnalyzePreciseResponse(BaseModel):
    feedbacks: List[ServerFeedback]
    composition_alignment: float     # 0-1
    completion_status: bool
    processing_time_ms: int
```

#### **4.2.2 ì„œë²„ ë‚´ë¶€ ëª¨ë¸**

```python
class PhotoIntent:
    """Florence-2 ë¶„ì„ ê²°ê³¼"""
    composition_intent: CompositionIntent
    spatial_intent: SpatialIntent
    lighting_intent: LightingIntent
    pose_intent: PoseIntent
    emotional_tone: str
    technique_summary: str

class Measurement:
    """Grounding DINO + Depth ì¸¡ì • ê²°ê³¼"""
    current_position: Point
    target_position: Point
    deviation_cm: Tuple[float, float]
    depth_layers: DepthLayers
    subject_distance: float

class Direction:
    """ìµœì¢… í”¼ë“œë°±"""
    priority: int
    category: str
    actor: str              # "subject" or "camera"
    action: str             # "move", "rotate", ...
    direction: str          # "left", "right", ...
    amount: str             # "50cm"
    reason: str
    alternative: Optional[str]
    current_state: str
    target_state: str
```

---

## 5. ì²˜ë¦¬ í”Œë¡œìš°

### 5.1 ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ (Hybrid)

```
ğŸ“¸ ì‚¬ìš©ìê°€ ë ˆí¼ëŸ°ìŠ¤ ì„ íƒ
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HybridDirector.analyzeReference()        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: ì˜¨ë””ë°”ì´ìŠ¤ ë¶„ì„ (V1)              â”‚
â”‚  - VisionAnalyzer                        â”‚
â”‚  - RuleEngine                            â”‚
â”‚  â†’ deviceData ìƒì„±                       â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 30ms                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: UI ì¦‰ì‹œ ì—…ë°ì´íŠ¸                  â”‚
â”‚  "ë¶„ì„ ì¤‘... (ê¸°ë³¸ ë¶„ì„ ì™„ë£Œ)"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: ì„œë²„ ì „ì†¡ (ë¹„ë™ê¸°, ë°±ê·¸ë¼ìš´ë“œ)    â”‚
â”‚  if serverAvailable {                    â”‚
â”‚    async {                               â”‚
â”‚      response = ServerClient             â”‚
â”‚        .analyzeReference(image)          â”‚
â”‚      serverData = parse(response)        â”‚
â”‚      updateReference(serverData)         â”‚
â”‚    }                                     â”‚
â”‚  }                                       â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 200ms (ë°±ê·¸ë¼ìš´ë“œ)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: ì„œë²„ ì‘ë‹µ ë„ì°© ì‹œ ì—…ë°ì´íŠ¸        â”‚
â”‚  reference.serverData = serverData       â”‚
â”‚  UI ì—…ë°ì´íŠ¸: "ì •ë°€ ë¶„ì„ ì™„ë£Œ"            â”‚
â”‚  ì• ë‹ˆë©”ì´ì…˜: ë¶€ë“œëŸ¬ìš´ ì „í™˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
âœ… ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ ì™„ë£Œ
   - ì¦‰ì‹œ: ì˜¨ë””ë°”ì´ìŠ¤ ë¶„ì„ (30ms)
   - ë‚˜ì¤‘ì—: ì„œë²„ ë¶„ì„ ì—…ë°ì´íŠ¸ (200ms)
```

### 5.2 ì‹¤ì‹œê°„ ì´¬ì˜ (Hybrid)

```
ğŸ“¹ ì¹´ë©”ë¼ í”„ë ˆì„ (30-60fps)
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HybridDirector.processFrame()            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tier 1: ì˜¨ë””ë°”ì´ìŠ¤ (í•­ìƒ ì‹¤í–‰)            â”‚
â”‚  - VisionAnalyzer                        â”‚
â”‚  - RuleEngine                            â”‚
â”‚  - ComparisonEngine                      â”‚
â”‚  â†’ tier1Feedbacks                        â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 30ms                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI ì¦‰ì‹œ ì—…ë°ì´íŠ¸ (Tier 1)                 â”‚
â”‚  FeedbackOverlay.update(tier1Feedbacks)  â”‚
â”‚  ì²´ê° FPS: 30-60 fps                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tier 2: Smart Sampling (ì„ íƒì )          â”‚
â”‚  if SmartSampler.shouldSample() {        â”‚
â”‚    // ì¡°ê±´:                               â”‚
â”‚    // - 1ì´ˆ ì´ìƒ ê²½ê³¼                     â”‚
â”‚    // - í”„ë ˆì„ ë³€í™” > 15%                 â”‚
â”‚    // - ì„œë²„ ì—°ê²° ê°€ëŠ¥                    â”‚
â”‚    triggerTier3()                        â”‚
â”‚  }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“ (ì¡°ê±´ ë§Œì¡± ì‹œë§Œ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tier 3: ì„œë²„ ì „ì†¡ (ë°±ê·¸ë¼ìš´ë“œ)            â”‚
â”‚  async {                                 â”‚
â”‚    response = ServerClient               â”‚
â”‚      .analyzePrecise(frame, refId)       â”‚
â”‚    tier3Feedbacks = parse(response)      â”‚
â”‚    updateServerCache(tier3Feedbacks)     â”‚
â”‚  }                                       â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 106ms (ë°±ê·¸ë¼ìš´ë“œ)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“ (ì‘ë‹µ ë„ì°© ì‹œ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fusion: í”¼ë“œë°± í†µí•©                       â”‚
â”‚  merged = FusionLayer.merge(             â”‚
â”‚    tier1Feedbacks,                       â”‚
â”‚    tier3Feedbacks                        â”‚
â”‚  )                                       â”‚
â”‚                                          â”‚
â”‚  ìš°ì„ ìˆœìœ„:                                â”‚
â”‚  1. Tier 3 (ë” ì •í™•)                     â”‚
â”‚  2. Tier 1 (Tier 3 ì—†ëŠ” ì¹´í…Œê³ ë¦¬)        â”‚
â”‚                                          â”‚
â”‚  ì• ë‹ˆë©”ì´ì…˜: ë¶€ë“œëŸ¬ìš´ ì „í™˜ (300ms)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI ì ì§„ì  ì—…ë°ì´íŠ¸                        â”‚
â”‚  FeedbackOverlay.update(merged)          â”‚
â”‚  ì• ë‹ˆë©”ì´ì…˜: í˜ì´ë“œ ì¸/ì•„ì›ƒ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
ğŸ”„ ë‹¤ìŒ í”„ë ˆì„

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì‚¬ìš©ì ê²½í—˜:
  T=0ms:    ì¦‰ì‹œ ê¸°ë³¸ í”¼ë“œë°± (Tier 1)
  T=1000ms: ì •ë°€ í”¼ë“œë°±ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ì—…ë°ì´íŠ¸ (Tier 3)

ì²´ê°:
  - í•­ìƒ ë¶€ë“œëŸ¬ì›€ (40-60fps)
  - ì ì  ì •í™•í•´ì§
  - ë„¤íŠ¸ì›Œí¬ ëŠê²¨ë„ ì‘ë™
```

### 5.3 Fallback ì‹œë‚˜ë¦¬ì˜¤

```
ì„œë²„ ì—°ê²° ì‹¤íŒ¨ ì‹œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ServerClient.analyzePrecise()            â”‚
â”‚   â†’ Timeout or Error                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HybridDirector.handleServerError()       â”‚
â”‚  isServerAvailable = false               â”‚
â”‚  showNotification("ì„œë²„ ì—°ê²° ëŠê¹€")       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ V1 ëª¨ë“œë¡œ ê³„ì† ì‘ë™                       â”‚
â”‚  - Tier 1ë§Œ ì‚¬ìš©                          â”‚
â”‚  - ê¸°ëŠ¥ ì œí•œ ì—†ìŒ                         â”‚
â”‚  - ì‚¬ìš©ì ì¤‘ë‹¨ ì—†ìŒ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
âœ… ì˜¨ë””ë°”ì´ìŠ¤ë§Œìœ¼ë¡œ ì™„ì „ ì‘ë™
   (ì •í™•ë„ë§Œ ì•½ê°„ ë‚®ìŒ)
```

---

## 6. ì„œë²„ ì•„í‚¤í…ì²˜

### 6.1 ì„œë²„ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Server Architecture                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FastAPI Application (main.py)                       â”‚
â”‚  - ASGI Server (Uvicorn)                             â”‚
â”‚  - CORS Middleware                                   â”‚
â”‚  - Rate Limiting                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Routers                                             â”‚
â”‚  - /api/v2/analyze-reference                         â”‚
â”‚  - /api/v2/analyze-precise                           â”‚
â”‚  - /api/v2/health                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Services                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   AIDirectorEngine (ë©”ì¸ ë¡œì§)                â”‚  â”‚
â”‚  â”‚   - analyzeReference()                        â”‚  â”‚
â”‚  â”‚   - analyzePrecise()                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Model Layer                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Florence-2  â”‚  â”‚ Grounding    â”‚  â”‚  Depth    â”‚ â”‚
â”‚  â”‚  Manager     â”‚  â”‚ DINO Manager â”‚  â”‚  Manager  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  MoveNet     â”‚  â”‚  MediaPipe   â”‚                â”‚
â”‚  â”‚  Manager     â”‚  â”‚  Manager     â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GPU (RTX 4070 Super / AWS A10G)                     â”‚
â”‚  - CUDA 12.x                                         â”‚
â”‚  - TensorRT Optimization                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ëª¨ë¸ ìµœì í™”

```
TensorRT ìµœì í™”:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Florence-2:      1000ms â†’ 95ms    (10.5ë°° ë¹ ë¦„)
Grounding DINO:   650ms â†’ 32ms    (20ë°° ë¹ ë¦„)
Depth Anything:   300ms â†’ 25ms    (12ë°° ë¹ ë¦„)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ë°©ë²•:
  1. ONNX ë³€í™˜
  2. TensorRT ì—”ì§„ ë¹Œë“œ
  3. FP16 ì–‘ìí™”
  4. Dynamic Shape ìµœì í™”
```

### 6.3 ìºì‹± ì „ëµ

```
ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ ìºì‹±:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  - ë ˆí¼ëŸ°ìŠ¤ëŠ” 1íšŒë§Œ ë¶„ì„
  - Redisì— ìºì‹œ (TTL: 24ì‹œê°„)
  - reference_idë¡œ ì¬ì‚¬ìš©

ì‹¤ì‹œê°„ í”„ë ˆì„:
  - ìºì‹± ì•ˆ í•¨ (ë§¤ë²ˆ ë‹¤ë¦„)
  - ë¹ ë¥¸ ì‘ë‹µ í•„ìš”
```

---

## 7. í†µì‹  í”„ë¡œí† ì½œ

### 7.1 HTTP REST API

#### **7.1.1 ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„**

```http
POST /api/v2/analyze-reference HTTP/1.1
Content-Type: multipart/form-data

--boundary
Content-Disposition: form-data; name="image"; filename="reference.jpg"
Content-Type: image/jpeg

[JPEG binary data]
--boundary--

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

HTTP/1.1 200 OK
Content-Type: application/json

{
  "reference_id": "ref_abc123",
  "composition_intent": {
    "primary_rule": "rule_of_thirds",
    "subject_placement": "left_upper_intersection",
    "reasoning": "Dynamic asymmetry for storytelling",
    "technique_summary": "Portrait using rule of thirds..."
  },
  "lighting_intent": {
    "source": "natural_window_left",
    "quality": "soft_diffused",
    "direction": "side_lighting"
  },
  "pose_intent": {
    "archetype": "candid_relaxed",
    "key_angles": {
      "shoulder_tilt": "slight_left",
      "head_angle": "looking_away"
    }
  },
  "precise_position": {"x": 0.333, "y": 0.333},
  "depth_analysis": {
    "subject_distance": 2.3,
    "depth_layers": {...}
  },
  "processing_time_ms": 209
}
```

#### **7.1.2 ì‹¤ì‹œê°„ ë¶„ì„**

```http
POST /api/v2/analyze-precise HTTP/1.1
Content-Type: multipart/form-data

--boundary
Content-Disposition: form-data; name="image"; filename="frame.jpg"
Content-Type: image/jpeg

[JPEG binary data]
--boundary
Content-Disposition: form-data; name="reference_id"

ref_abc123
--boundary--

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

HTTP/1.1 200 OK
Content-Type: application/json

{
  "feedbacks": [
    {
      "priority": 1,
      "category": "composition",
      "icon": "ğŸ“",
      "message": "í”¼ì‚¬ì²´ê°€ ì™¼ìª½ìœ¼ë¡œ 50cm",
      "reason": "3ë¶„í•  êµ¬ë„ ì™„ì„±",
      "alternative": "ë˜ëŠ” ì¹´ë©”ë¼ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ 50cm",
      "current_value": 50.0,
      "target_value": 33.3,
      "unit": "%",
      "is_completed": false
    },
    ...
  ],
  "composition_alignment": 0.72,
  "completion_status": false,
  "processing_time_ms": 80
}
```

### 7.2 WebSocket (ì„ íƒì , ê³ ê¸‰)

```
WebSocket ì‚¬ìš© ì‹œ ì´ì :
  - HTTP ì˜¤ë²„í—¤ë“œ ì œê±° (38ms â†’ 2ms)
  - ì–‘ë°©í–¥ í†µì‹ 
  - Server Push ê°€ëŠ¥

êµ¬í˜„:
  ws://server:8000/ws/analyze

ë©”ì‹œì§€:
  {
    "type": "analyze_frame",
    "reference_id": "ref_abc123",
    "image": "base64_encoded_image"
  }

ì‘ë‹µ:
  {
    "type": "feedbacks",
    "data": [...]
  }
```

---

## 8. íŒŒì¼ êµ¬ì¡°

### 8.1 í´ë¼ì´ì–¸íŠ¸ (iOS - V1 í™•ì¥)

```
ios/TryAngleApp/
â”‚
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ RealtimeDirector.swift        # V1 (ê·¸ëŒ€ë¡œ)
â”‚   â”œâ”€â”€ HybridDirector.swift          # ğŸ†• V2 (V1 í™•ì¥)
â”‚   â”‚
â”‚   â”œâ”€â”€ Network/                      # ğŸ†• V2
â”‚   â”‚   â”œâ”€â”€ ServerClient.swift        # HTTP í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ WebSocketClient.swift     # (ì„ íƒ)
â”‚   â”‚   â””â”€â”€ NetworkMonitor.swift      # ì—°ê²° ìƒíƒœ ê°ì§€
â”‚   â”‚
â”‚   â”œâ”€â”€ Hybrid/                       # ğŸ†• V2
â”‚   â”‚   â”œâ”€â”€ SmartSampler.swift        # ë³€í™” ê°ì§€
â”‚   â”‚   â”œâ”€â”€ FusionLayer.swift         # í”¼ë“œë°± í†µí•©
â”‚   â”‚   â””â”€â”€ FeedbackAnimator.swift    # ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
â”‚   â”‚
â”‚   â”œâ”€â”€ Analysis/                     # V1 (ê·¸ëŒ€ë¡œ)
â”‚   â”œâ”€â”€ RuleEngine/                   # V1 (ê·¸ëŒ€ë¡œ)
â”‚   â””â”€â”€ Comparison/                   # V1 (ê·¸ëŒ€ë¡œ)
â”‚
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ (V1 models ê·¸ëŒ€ë¡œ)
â”‚   â”œâ”€â”€ HybridReferenceData.swift     # ğŸ†• V2
â”‚   â”œâ”€â”€ ServerReferenceData.swift     # ğŸ†• V2
â”‚   â””â”€â”€ HybridFeedback.swift          # ğŸ†• V2
â”‚
â””â”€â”€ Views/
    â””â”€â”€ (V1 ê·¸ëŒ€ë¡œ, UIë§Œ ì•½ê°„ ìˆ˜ì •)
```

### 8.2 ì„œë²„

```
server/
â”‚
â”œâ”€â”€ main.py                           # FastAPI ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚
â”œâ”€â”€ api/                              # API Routers
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ v2_routes.py                  # V2 API
â”‚   â””â”€â”€ middleware.py                 # CORS, Rate Limiting
â”‚
â”œâ”€â”€ services/                         # Business Logic
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ai_director_engine.py         # ğŸ”¥ ë©”ì¸ ë¡œì§
â”‚   â”œâ”€â”€ reference_analyzer.py         # ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„
â”‚   â””â”€â”€ precise_analyzer.py           # ì‹¤ì‹œê°„ ë¶„ì„
â”‚
â”œâ”€â”€ models/                           # AI Models
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ florence2_manager.py          # Florence-2
â”‚   â”œâ”€â”€ grounding_dino_manager.py     # Grounding DINO
â”‚   â”œâ”€â”€ depth_manager.py              # Depth Anything V2
â”‚   â”œâ”€â”€ movenet_manager.py            # MoveNet
â”‚   â””â”€â”€ model_cache.py                # ì‹±ê¸€í†¤ ìºì‹±
â”‚
â”œâ”€â”€ schemas/                          # Pydantic Models
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ requests.py
â”‚   â”œâ”€â”€ responses.py
â”‚   â””â”€â”€ internal.py
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ image_processing.py
â”‚   â”œâ”€â”€ tensorrt_optimizer.py         # TensorRT ìµœì í™”
â”‚   â””â”€â”€ redis_cache.py                # Redis ìºì‹±
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ settings.py                   # í™˜ê²½ ë³€ìˆ˜
â”‚
â””â”€â”€ requirements.txt
```

---

## 9. ì„±ëŠ¥ ëª©í‘œ

### 9.1 í´ë¼ì´ì–¸íŠ¸ ì„±ëŠ¥

| í•­ëª© | V1 ëª©í‘œ | V2 ëª©í‘œ | ë¹„ê³  |
|------|---------|---------|------|
| **Tier 1 FPS** | 33 fps | 40-60 fps | V1ê³¼ ë™ì¼ ìœ ì§€ |
| **Tier 1 ì§€ì—°** | 30ms | 30ms | ë³€í™” ì—†ìŒ |
| **UI ë°˜ì‘ì„±** | <50ms | <50ms | ì¦‰ê°ì  |
| **ë©”ëª¨ë¦¬ (ìƒì£¼)** | 50MB | 70MB | Network ì¶”ê°€ |
| **ë°°í„°ë¦¬ ì†Œëª¨** | <15%/hr | <18%/hr | ì•½ê°„ ì¦ê°€ |

### 9.2 ì„œë²„ ì„±ëŠ¥

| í•­ëª© | ëª©í‘œ | ìµœëŒ€ í—ˆìš© |
|------|------|----------|
| **ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„** | 200ms | 300ms |
| **ì‹¤ì‹œê°„ ë¶„ì„** | 80ms | 120ms |
| **GPU ë©”ëª¨ë¦¬** | <8GB | <10GB |
| **ë™ì‹œ ìš”ì²­** | 10ê°œ | 20ê°œ |
| **ì‘ë‹µ ì„±ê³µë¥ ** | >99% | >95% |

### 9.3 ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥

| í•­ëª© | ëª©í‘œ |
|------|------|
| **ì—…ë¡œë“œ í¬ê¸°** | <40KB (JPEG ì••ì¶•) |
| **ë‹¤ìš´ë¡œë“œ í¬ê¸°** | <5KB (JSON) |
| **ì´ ì™•ë³µ ì‹œê°„** | 106ms (ë¡œì»¬ WiFi) |
| **ì¬ì‹œë„ íšŸìˆ˜** | ìµœëŒ€ 2íšŒ |
| **íƒ€ì„ì•„ì›ƒ** | 5ì´ˆ |

---

## 10. V1ì—ì„œ V2ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

### 10.1 ì¶”ê°€ ì‘ì—… ëª©ë¡

```
í´ë¼ì´ì–¸íŠ¸ (iOS/Android):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… HybridDirector êµ¬í˜„ (RealtimeDirector í™•ì¥)
âœ… ServerClient êµ¬í˜„ (HTTP/WebSocket)
âœ… SmartSampler êµ¬í˜„ (ë³€í™” ê°ì§€)
âœ… FusionLayer êµ¬í˜„ (í”¼ë“œë°± í†µí•©)
âœ… ë°ì´í„° ëª¨ë¸ í™•ì¥ (HybridReferenceData, etc.)
âœ… UI ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ (ë¶€ë“œëŸ¬ìš´ ì „í™˜)
âœ… ì„¤ì • í™”ë©´ ì¶”ê°€ (ì„œë²„ URL ì„¤ì •)

ì„œë²„:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… FastAPI í”„ë¡œì íŠ¸ ìƒì„±
âœ… Florence-2 í†µí•©
âœ… Grounding DINO í†µí•©
âœ… Depth Anything V2 í†µí•©
âœ… AIDirectorEngine êµ¬í˜„
âœ… TensorRT ìµœì í™”
âœ… Redis ìºì‹± (ì„ íƒ)
âœ… Docker ì»¨í…Œì´ë„ˆí™” (ë°°í¬ìš©)
```

### 10.2 í˜¸í™˜ì„± ìœ ì§€

```
V1 ì½”ë“œëŠ” ì „í˜€ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ:
  - RealtimeDirector: ê·¸ëŒ€ë¡œ ìœ ì§€
  - AnalysisEngine: ê·¸ëŒ€ë¡œ ìœ ì§€
  - RuleEngine: ê·¸ëŒ€ë¡œ ìœ ì§€
  - ComparisonEngine: ê·¸ëŒ€ë¡œ ìœ ì§€

V2ëŠ” V1 ìœ„ì— ë ˆì´ì–´ ì¶”ê°€:
  - HybridDirectorê°€ RealtimeDirector ì‚¬ìš©
  - ì„œë²„ ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ V1 ëª¨ë“œ
  - ì‚¬ìš©ìëŠ” ì°¨ì´ ëª¨ë¦„
```

### 10.3 ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜

```
ë‹¨ê³„ 1: V1 ì™„ì„± ë° í…ŒìŠ¤íŠ¸
  - ì˜¨ë””ë°”ì´ìŠ¤ë§Œìœ¼ë¡œ ì™„ì „ ì‘ë™
  - ì•±ìŠ¤í† ì–´ ì¶œì‹œ ê°€ëŠ¥

ë‹¨ê³„ 2: ì„œë²„ ê°œë°œ (ë³‘ë ¬)
  - V1 ì•± ìœ ì§€í•˜ë©´ì„œ
  - ì„œë²„ ê°œë°œ ë° í…ŒìŠ¤íŠ¸

ë‹¨ê³„ 3: V2 í´ë¼ì´ì–¸íŠ¸ í†µí•©
  - HybridDirector ì¶”ê°€
  - ServerClient ì¶”ê°€
  - ê¸°ì¡´ V1 ì½”ë“œ ìœ ì§€

ë‹¨ê³„ 4: ë² íƒ€ í…ŒìŠ¤íŠ¸
  - ì„œë²„ ëª¨ë“œ ON/OFF í† ê¸€
  - ì„±ëŠ¥ ë¹„êµ
  - ë¹„ìš© ì¸¡ì •

ë‹¨ê³„ 5: ì •ì‹ ì¶œì‹œ
  - V2 ê¸°ë³¸ í™œì„±í™”
  - V1ì€ Fallbackìœ¼ë¡œ ìœ ì§€
```

---

## 11. ë¹„ìš© ì˜ˆì¸¡

### 11.1 ì„œë²„ ë¹„ìš© (RTX 4070 Super ìíƒ)

```
ì´ˆê¸° ë¹„ìš©: $0 (ì´ë¯¸ ë³´ìœ )

ì›” ìš´ì˜ ë¹„ìš©:
  - ì „ê¸°ì„¸: $30-50 (24ì‹œê°„ ê°€ë™)
  - ì¸í„°ë„·: ê¸°ì¡´ íšŒì„  ì‚¬ìš©
  - DDNS: $0 (ë¬´ë£Œ ì„œë¹„ìŠ¤)

ì´ ì›” ë¹„ìš©: ~$40

ë‹¨ì :
  - ê³µì¸ IP í•„ìš”
  - 24ì‹œê°„ PC ê°€ë™
  - ì •ì „/ì¬ë¶€íŒ… ìœ„í—˜
```

### 11.2 í´ë¼ìš°ë“œ ë¹„ìš© (AWS)

```
g5.xlarge (A10G 24GB):
  - ì‹œê°„ë‹¹: $1.21
  - ì›” (24/7): $872

g4dn.xlarge (T4 16GB):
  - ì‹œê°„ë‹¹: $0.526
  - ì›” (24/7): $379

Vast.ai (RTX 4090):
  - ì‹œê°„ë‹¹: $0.34
  - ì›” (24/7): $245

ì¶”ì²œ: ì´ˆê¸°ì—ëŠ” ìíƒ ì„œë²„, ì‚¬ìš©ì ë§ì•„ì§€ë©´ í´ë¼ìš°ë“œ
```

---

## 12. ì„±ê³µ ê¸°ì¤€

### 12.1 ê¸°ìˆ ì  ì„±ê³µ

```
âœ… V1 ê¸°ëŠ¥ 100% ìœ ì§€
âœ… ì„œë²„ ì—†ì–´ë„ ì™„ì „ ì‘ë™
âœ… ì„œë²„ ì—°ê²° ì‹œ ì •í™•ë„ í–¥ìƒ
âœ… ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ ìë™ Fallback
âœ… 40-60 fps ìœ ì§€
âœ… ì‘ë‹µ ì‹œê°„ <120ms (WiFi)
```

### 12.2 ì‚¬ìš©ì ê²½í—˜

```
âœ… ì¦‰ê°ì ì¸ í”¼ë“œë°± (Tier 1)
âœ… ì ì§„ì ìœ¼ë¡œ ì •í™•í•´ì§€ëŠ” ê²½í—˜
âœ… ë¶€ë“œëŸ¬ìš´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
âœ… ë„¤íŠ¸ì›Œí¬ ëŠê¹€ ì¸ì§€ ë¶ˆê°€
âœ… "ì™„ë²½í•©ë‹ˆë‹¤!" ì •í™•ë„ 95%+
```

### 12.3 ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³µ

```
âœ… ë¬´ë£Œ ë²„ì „: V1 ëª¨ë“œë¡œ ì‘ë™
âœ… Pro ë²„ì „: V2 ì„œë²„ ê¸°ëŠ¥
âœ… êµ¬ë…ë£Œ: $4.99/month
âœ… ì†ìµë¶„ê¸°ì : 180ëª… êµ¬ë…ì
```

---

**ë¬¸ì„œ ë²„ì „**: 2.0
**ìµœì¢… ìˆ˜ì •**: 2025-11-18
**ì´ì „ ë¬¸ì„œ**: DESIGN_V1_ONDEVICE_ONLY.md
**ë‹¤ìŒ ë‹¨ê³„**: êµ¬í˜„ ì‹œì‘!
