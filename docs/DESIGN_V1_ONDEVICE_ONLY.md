# ğŸ¬ Try_Angle V1: ì˜¨ë””ë°”ì´ìŠ¤ ì „ìš© ì„¤ê³„

**ë²„ì „**: 1.0 (On-Device Only)
**ì‘ì„±ì¼**: 2025-11-18
**ëª©í‘œ**: ì„œë²„ ì—†ì´ ì˜¨ë””ë°”ì´ìŠ¤ë§Œìœ¼ë¡œ ì™„ì „íˆ ì‘ë™í•˜ëŠ” AI ì¹´ë©”ë¼ ê°€ì´ë“œ ì•±

---

## ğŸ“‹ ëª©ì°¨

1. [ì„¤ê³„ ì² í•™](#1-ì„¤ê³„-ì² í•™)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#2-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°](#3-ì»´í¬ë„ŒíŠ¸-êµ¬ì¡°)
4. [ë°ì´í„° ëª¨ë¸](#4-ë°ì´í„°-ëª¨ë¸)
5. [ì²˜ë¦¬ í”Œë¡œìš°](#5-ì²˜ë¦¬-í”Œë¡œìš°)
6. [íŒŒì¼ êµ¬ì¡°](#6-íŒŒì¼-êµ¬ì¡°)
7. [í”Œë«í¼ë³„ êµ¬í˜„](#7-í”Œë«í¼ë³„-êµ¬í˜„)
8. [ì„±ëŠ¥ ëª©í‘œ](#8-ì„±ëŠ¥-ëª©í‘œ)
9. [êµ¬í˜„ ìš°ì„ ìˆœìœ„](#9-êµ¬í˜„-ìš°ì„ ìˆœìœ„)
10. [ì œì•½ì‚¬í•­ ë° í•œê³„](#10-ì œì•½ì‚¬í•­-ë°-í•œê³„)

---

## 1. ì„¤ê³„ ì² í•™

### 1.1 í•µì‹¬ ì›ì¹™

```
"Simple, Fast, Offline-First"

1. ë‹¨ìˆœì„± (Simplicity)
   - ë„¤ì´í‹°ë¸Œ í”„ë ˆì„ì›Œí¬ë§Œ ì‚¬ìš© (Vision/ML Kit)
   - ë³µì¡í•œ ML ëª¨ë¸ ë°°ì œ
   - ë£° ê¸°ë°˜ ë¡œì§ìœ¼ë¡œ ëª…í™•ì„± í™•ë³´

2. ì†ë„ (Speed)
   - 40-60 fps ì‹¤ì‹œê°„ ì²˜ë¦¬
   - ì¦‰ê°ì ì¸ í”¼ë“œë°± (<50ms)
   - ë¶€ë“œëŸ¬ìš´ ì‚¬ìš©ì ê²½í—˜

3. ì˜¤í”„ë¼ì¸ ìš°ì„  (Offline-First)
   - ë„¤íŠ¸ì›Œí¬ ë¶ˆí•„ìš”
   - ëª¨ë“  ì²˜ë¦¬ë¥¼ ë””ë°”ì´ìŠ¤ì—ì„œ
   - ë°ì´í„° ì™¸ë¶€ ì „ì†¡ ì—†ìŒ (í”„ë¼ì´ë²„ì‹œ)
```

### 1.2 ê¸°ìˆ  ì„ íƒ ê·¼ê±°

| ê¸°ìˆ  | ì„ íƒ ì´ìœ  | ëŒ€ì•ˆ (ë°°ì œ) |
|------|----------|------------|
| **Vision Framework (iOS)** | ë„¤ì´í‹°ë¸Œ, ìµœì í™”, ë¬´ë£Œ | Core ML ëª¨ë¸ (ë¬´ê±°ì›€) |
| **ML Kit (Android)** | ë„¤ì´í‹°ë¸Œ, ìµœì í™”, ë¬´ë£Œ | TensorFlow Lite (ëŠë¦¼) |
| **Rule-based Engine** | ì˜ˆì¸¡ ê°€ëŠ¥, ë¹ ë¦„ | AI ëª¨ë¸ (ë©”ëª¨ë¦¬/ì„±ëŠ¥) |
| **ARKit/ARCore Depth** | ì„ íƒì , ì •í™• | MobileDepth (ì¶”ê°€ ëª¨ë¸) |

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 3-Layer Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Try_Angle V1                      â”‚
â”‚               (On-Device Only System)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: Analysis (ë¶„ì„ ë ˆì´ì–´)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Vision/ML Kitìœ¼ë¡œ ê¸°ë³¸ ì •ë³´ ì¶”ì¶œ                  â”‚
â”‚    - Face Detection & Landmarks                      â”‚
â”‚    - Body Pose Detection (17 keypoints)              â”‚
â”‚    - (Optional) Depth Estimation                     â”‚
â”‚                                                       â”‚
â”‚  ì…ë ¥: Camera Frame                                   â”‚
â”‚  ì¶œë ¥: AnalysisResult {face, pose, depth}            â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 20-30ms                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: Rule Engine (ê·œì¹™ ì—”ì§„)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ì „í†µì  CV ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¸¡ì •/ê³„ì‚°                   â”‚
â”‚    - Composition Grid Calculation (3ë¶„í• , í™©ê¸ˆë¹„ìœ¨)  â”‚
â”‚    - Camera Angle Detection (Geometric)              â”‚
â”‚    - Face Pose Calculation (yaw, pitch, roll)        â”‚
â”‚    - Body Joint Angles (ì–´ê¹¨, íŒ”ê¿ˆì¹˜, ë¬´ë¦ ë“±)       â”‚
â”‚                                                       â”‚
â”‚  ì…ë ¥: AnalysisResult                                 â”‚
â”‚  ì¶œë ¥: MeasurementResult {composition, angles, ...}   â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 5ms                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: Comparison & Feedback (ë¹„êµ ë° í”¼ë“œë°±)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ë ˆí¼ëŸ°ìŠ¤ì™€ í˜„ì¬ í”„ë ˆì„ ë¹„êµ                        â”‚
â”‚    - Gap Analysis (ëª©í‘œ - í˜„ì¬)                      â”‚
â”‚    - Priority Sorting (êµ¬ë„ > ê°ë„ > í¬ì¦ˆ)          â”‚
â”‚    - Feedback Generation (í•œêµ­ì–´ ìì—°ì–´)             â”‚
â”‚    - Completion Detection (ëª¨ë“  ì¡°ê±´ ë§Œì¡± ì‹œ)        â”‚
â”‚                                                       â”‚
â”‚  ì…ë ¥: MeasurementResult + ReferenceData              â”‚
â”‚  ì¶œë ¥: List<Feedback> (ìµœëŒ€ 5ê°œ)                      â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: 5ms                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Component Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UI Layer (SwiftUI/Compose)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CameraView   â”‚  â”‚FeedbackOverlayâ”‚  â”‚ControlsViewâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Business Logic Layer                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         RealtimeDirector (Main Controller)     â”‚  â”‚
â”‚  â”‚  - processFrame()                              â”‚  â”‚
â”‚  â”‚  - analyzeReference()                          â”‚  â”‚
â”‚  â”‚  - generateFeedback()                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†“              â†“              â†“               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Analysis â”‚  â”‚   Rule   â”‚  â”‚ Comparison   â”‚       â”‚
â”‚  â”‚  Engine  â”‚  â”‚  Engine  â”‚  â”‚   Engine     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Platform Layer (Native)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Vision/    â”‚  â”‚   ARKit/     â”‚  â”‚  Camera    â”‚ â”‚
â”‚  â”‚   ML Kit     â”‚  â”‚   ARCore     â”‚  â”‚   API      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### 3.1 Core Components

#### **3.1.1 RealtimeDirector**
```
ì—­í• : ì „ì²´ ì‹œìŠ¤í…œì˜ ì¤‘ì•™ ì»¨íŠ¸ë¡¤ëŸ¬

ì±…ì„:
  - ì¹´ë©”ë¼ í”„ë ˆì„ ìˆ˜ì‹ 
  - ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ ë° ì €ì¥
  - ì‹¤ì‹œê°„ ë¹„êµ ë° í”¼ë“œë°± ìƒì„±
  - UI ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°

ì£¼ìš” ë©”ì„œë“œ:
  - analyzeReference(image) â†’ ReferenceData
  - processFrame(frame) â†’ List<Feedback>
  - startRealtime()
  - stopRealtime()

ìƒíƒœ ê´€ë¦¬:
  - currentReference: ReferenceData?
  - isAnalyzing: Bool
  - lastFeedbacks: List<Feedback>
```

#### **3.1.2 AnalysisEngine**
```
ì—­í• : Vision/ML Kitì„ ì‚¬ìš©í•œ ì €ìˆ˜ì¤€ ë¶„ì„

ì±…ì„:
  - ì–¼êµ´ ê°ì§€ ë° ëœë“œë§ˆí¬ ì¶”ì¶œ
  - ëª¸ í¬ì¦ˆ ê°ì§€ (17 keypoints)
  - (ì„ íƒ) ê¹Šì´ ì •ë³´ ì¶”ì •

ì£¼ìš” ë©”ì„œë“œ:
  - detectFace(image) â†’ FaceResult
  - detectPose(image) â†’ PoseResult
  - estimateDepth(image) â†’ DepthMap?

êµ¬í˜„:
  iOS: VisionAnalyzer (Vision Framework)
  Android: MLKitAnalyzer (ML Kit)
```

#### **3.1.3 RuleEngine**
```
ì—­í• : ì „í†µì  CV ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¸¡ì •/ê³„ì‚°

ì±…ì„:
  - êµ¬ë„ ê·¸ë¦¬ë“œ ê³„ì‚° (3ë¶„í• , í™©ê¸ˆë¹„ìœ¨)
  - ì¹´ë©”ë¼ ì•µê¸€ ì¶”ì • (ê¸°í•˜í•™ì )
  - ê°ë„ ê³„ì‚° (ì–¼êµ´, ê´€ì ˆ)

ì£¼ìš” ë©”ì„œë“œ:
  - calculateComposition(face, pose) â†’ CompositionResult
  - detectCameraAngle(face, pose) â†’ CameraAngle
  - calculateJointAngles(pose) â†’ Dict<Joint, Angle>

êµ¬í˜„:
  - CompositionAnalyzer
  - CameraAngleDetector
  - AngleCalculator
```

#### **3.1.4 ComparisonEngine**
```
ì—­í• : ë ˆí¼ëŸ°ìŠ¤ì™€ í˜„ì¬ í”„ë ˆì„ ë¹„êµ

ì±…ì„:
  - ì°¨ì´ê°’ ê³„ì‚° (Gap Analysis)
  - ìš°ì„ ìˆœìœ„ ì •ë ¬
  - í”¼ë“œë°± ìƒì„± (í•œêµ­ì–´)

ì£¼ìš” ë©”ì„œë“œ:
  - compare(reference, current) â†’ List<Gap>
  - generateFeedbacks(gaps) â†’ List<Feedback>
  - checkCompletion(gaps) â†’ Bool

êµ¬í˜„:
  - GapAnalyzer
  - FeedbackGenerator
  - PriorityManager
```

### 3.2 Helper Components

#### **3.2.1 CompositionAnalyzer**
```
ì—­í• : êµ¬ë„ ë¶„ì„ (ë£° ê¸°ë°˜)

ê¸°ëŠ¥:
  - 3ë¶„í•  ê·¸ë¦¬ë“œ ìƒì„± ë° ë§¤ì¹­
  - í™©ê¸ˆë¹„ìœ¨ ê·¸ë¦¬ë“œ ê³„ì‚°
  - ì¤‘ì•™ ì§‘ì¤‘ ê°ì§€
  - í”¼ì‚¬ì²´ ìœ„ì¹˜ â†’ êµ¬ë„ íƒ€ì… ë¶„ë¥˜

ë©”ì„œë“œ:
  - classifyComposition(subjectPosition) â†’ CompositionType
  - calculateRuleOfThirdsGrid() â†’ Grid
  - calculateGoldenRatioGrid() â†’ Grid
  - getTargetPosition(compositionType) â†’ Point
```

#### **3.2.2 CameraAngleDetector**
```
ì—­í• : ì¹´ë©”ë¼ ì•µê¸€ ê°ì§€ (ê¸°í•˜í•™ì )

ê¸°ëŠ¥:
  - ì–¼êµ´ ëœë“œë§ˆí¬ Y ë¹„ìœ¨ ë¶„ì„
  - ì–´ê¹¨-ë¨¸ë¦¬ depth ì°¨ì´ (ARKit/ARCore)
  - ìˆ˜í‰ì„  ê°ì§€ (ë”ì¹˜ í‹¸íŠ¸)

ë©”ì„œë“œ:
  - detectAngle(face, pose, depth?) â†’ CameraAngle
  - analyzeEyeNoseRatio(landmarks) â†’ AngleEstimate
  - analyzeDepthPattern(face, shoulders, depth) â†’ AngleEstimate
  - fusionEstimates(estimates) â†’ CameraAngle
```

#### **3.2.3 AngleCalculator**
```
ì—­í• : ê´€ì ˆ/ì–¼êµ´ ê°ë„ ê³„ì‚°

ê¸°ëŠ¥:
  - 3ì ìœ¼ë¡œ ê°ë„ ê³„ì‚° (ë²¡í„° dot product)
  - ì–¼êµ´ yaw, pitch, roll ì¶”ì¶œ
  - ì–´ê¹¨, íŒ”ê¿ˆì¹˜, ë¬´ë¦ ê°ë„ ê³„ì‚°

ë©”ì„œë“œ:
  - calculateAngle(p1, p2, p3) â†’ Float (degree)
  - extractFacePose(landmarks) â†’ (yaw, pitch, roll)
  - calculateShoulderTilt(left, right) â†’ Float
  - calculateArmAngle(shoulder, elbow, wrist) â†’ Float
```

#### **3.2.4 AdaptivePoseComparator**
```
ì—­í• : ë¶€ë¶„ í¬ì¦ˆ ë¹„êµ (ì ì‘í˜•)

ê¸°ëŠ¥:
  - ë³´ì´ëŠ” keypointsë§Œ í•„í„°ë§
  - í¬ì¦ˆ íƒ€ì… ìë™ ë¶„ë¥˜ (ì „ì‹ /ìƒë°˜ì‹ /í‰ìƒ)
  - ê³µí†µ keypointsë§Œ ë¹„êµ
  - ë³´ì´ì§€ ì•ŠëŠ” ë¶€ë¶„ ì•ˆë‚´

ë©”ì„œë“œ:
  - detectVisiblePoseType(keypoints) â†’ PoseType
  - getCommonKeypoints(ref, cur) â†’ List<Keypoint>
  - comparePoses(ref, cur) â†’ List<PoseGap>
  - identifyMissingParts(refType, curType) â†’ List<String>
```

---

## 4. ë°ì´í„° ëª¨ë¸

### 4.1 Core Models

#### **4.1.1 ReferenceData**
```swift
struct ReferenceData {
    // êµ¬ë„
    let compositionType: CompositionType  // "rule_of_thirds_left_upper"
    let targetPosition: CGPoint           // (0.333, 0.333)

    // ì¹´ë©”ë¼ ì•µê¸€
    let cameraAngle: CameraAngle          // .lowAngle, .eyeLevel, .highAngle
    let estimatedPitch: Float             // degrees

    // ì–¼êµ´
    let faceYaw: Float?                   // degrees (-180 ~ +180)
    let facePitch: Float?                 // degrees
    let faceRoll: Float?                  // degrees

    // í¬ì¦ˆ
    let poseKeypoints: [Keypoint]         // 17ê°œ
    let visiblePoseType: PoseType         // .fullBody, .upperBody, ...

    // í¬ê¸°/ê±°ë¦¬
    let subjectSize: Float                // í™”ë©´ ëŒ€ë¹„ ë¹„ìœ¨ (0-1)

    // ì›ë³¸ ì´ë¯¸ì§€
    let originalImage: UIImage/Bitmap
    let timestamp: Date
}
```

#### **4.1.2 AnalysisResult**
```swift
struct AnalysisResult {
    let face: FaceResult?
    let pose: PoseResult?
    let depth: DepthMap?
    let timestamp: Date
}

struct FaceResult {
    let boundingBox: CGRect
    let landmarks: [FaceLandmark]        // nose, leftEye, rightEye, ...
    let yaw: Float
    let pitch: Float
    let roll: Float
    let confidence: Float
}

struct PoseResult {
    let keypoints: [Keypoint]            // 17ê°œ
    let boundingBox: CGRect
}

struct Keypoint {
    let type: KeypointType               // nose, leftShoulder, ...
    let position: CGPoint                // (x, y) normalized 0-1
    let confidence: Float                // 0-1
}
```

#### **4.1.3 MeasurementResult**
```swift
struct MeasurementResult {
    // êµ¬ë„
    let composition: CompositionResult

    // ì•µê¸€
    let cameraAngle: CameraAngle

    // ì–¼êµ´
    let faceAngles: (yaw: Float, pitch: Float, roll: Float)?

    // í¬ì¦ˆ
    let jointAngles: [Joint: Float]      // [.leftElbow: 120.0, ...]

    // í¬ê¸°
    let subjectSize: Float
}

struct CompositionResult {
    let subjectPosition: CGPoint         // í”¼ì‚¬ì²´ ì¤‘ì‹¬ (normalized)
    let compositionType: CompositionType
    let grid: Grid                       // ì‚¬ìš©ëœ ê·¸ë¦¬ë“œ (3ë¶„í•  or í™©ê¸ˆë¹„ìœ¨)
}
```

#### **4.1.4 Feedback**
```swift
struct Feedback {
    let id: UUID
    let priority: Int                    // 1=highest
    let category: FeedbackCategory       // .composition, .cameraAngle, ...

    // ë©”ì‹œì§€
    let icon: String                     // "ğŸ“", "ğŸ“·", "ğŸ‘¤"
    let message: String                  // "ì™¼ìª½ìœ¼ë¡œ 50cm"
    let reason: String?                  // "(3ë¶„í•  êµ¬ë„ ì™„ì„±)"

    // ì§„í–‰ë„ (ì„ íƒ)
    let currentValue: Float?
    let targetValue: Float?
    let unit: String?                    // "ë„", "cm"
    let tolerance: Float?                // í—ˆìš© ì˜¤ì°¨

    // ìƒíƒœ
    let isCompleted: Bool                // ì¡°ê±´ ë§Œì¡± ì—¬ë¶€
}

enum FeedbackCategory {
    case composition      // Priority 1
    case cameraAngle      // Priority 2
    case facePose         // Priority 3
    case bodyPose         // Priority 4
    case distance         // Priority 5
}
```

### 4.2 Enums

```swift
enum CompositionType {
    case ruleOfThirdsLeftUpper
    case ruleOfThirdsRightUpper
    case ruleOfThirdsLeftLower
    case ruleOfThirdsRightLower
    case goldenRatioLeft
    case goldenRatioRight
    case centerFocus
    case custom(position: CGPoint)
}

enum CameraAngle {
    case lowAngle      // ë¡œìš°ì•µê¸€
    case eyeLevel      // ì•„ì´ë ˆë²¨
    case highAngle     // í•˜ì´ì•µê¸€
    case dutchTilt     // ë”ì¹˜ í‹¸íŠ¸ (ê¸°ìš¸ì–´ì§)
}

enum PoseType {
    case fullBody         // ì „ì‹ 
    case upperBody        // ìƒë°˜ì‹ 
    case headShoulders    // í‰ìƒ
    case portraitClose    // í´ë¡œì¦ˆì—… (ì–¼êµ´ë§Œ)
}

enum KeypointType {
    case nose
    case leftEye, rightEye
    case leftEar, rightEar
    case leftShoulder, rightShoulder
    case leftElbow, rightElbow
    case leftWrist, rightWrist
    case leftHip, rightHip
    case leftKnee, rightKnee
    case leftAnkle, rightAnkle
}

enum Joint {
    case leftShoulder, rightShoulder
    case leftElbow, rightElbow
    case leftKnee, rightKnee
}
```

---

## 5. ì²˜ë¦¬ í”Œë¡œìš°

### 5.1 ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ í”Œë¡œìš°

```
ğŸ“¸ ì‚¬ìš©ìê°€ ë ˆí¼ëŸ°ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RealtimeDirector.analyzeReference()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: AnalysisEngine ì‹¤í–‰              â”‚
â”‚  - detectFace() â†’ FaceResult             â”‚
â”‚  - detectPose() â†’ PoseResult             â”‚
â”‚  - (ì„ íƒ) estimateDepth()                â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: ~25ms                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: RuleEngine ì‹¤í–‰                  â”‚
â”‚  - calculateComposition()                â”‚
â”‚    * í”¼ì‚¬ì²´ ìœ„ì¹˜ ê³„ì‚°                     â”‚
â”‚    * ê·¸ë¦¬ë“œ ë§¤ì¹­                          â”‚
â”‚    * CompositionType ë¶„ë¥˜                â”‚
â”‚  - detectCameraAngle()                   â”‚
â”‚    * ëœë“œë§ˆí¬ Y ë¹„ìœ¨ ë¶„ì„                â”‚
â”‚    * Depth íŒ¨í„´ ë¶„ì„ (ìˆìœ¼ë©´)            â”‚
â”‚  - calculateJointAngles()                â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: ~5ms                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: ReferenceData ìƒì„± ë° ì €ì¥       â”‚
â”‚  ReferenceData {                         â”‚
â”‚    compositionType: .ruleOfThirdsLeft,   â”‚
â”‚    targetPosition: (0.33, 0.33),         â”‚
â”‚    cameraAngle: .lowAngle,               â”‚
â”‚    faceYaw: -12.5,                       â”‚
â”‚    poseKeypoints: [...],                 â”‚
â”‚    subjectSize: 0.25,                    â”‚
â”‚    ...                                   â”‚
â”‚  }                                       â”‚
â”‚  â†’ RealtimeDirector.currentReference     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
âœ… ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ ì™„ë£Œ
   "ì‹¤ì‹œê°„ ì´¬ì˜ì„ ì‹œì‘í•˜ì„¸ìš”" ì•ˆë‚´
```

### 5.2 ì‹¤ì‹œê°„ ì´¬ì˜ í”Œë¡œìš°

```
ğŸ“¹ ì¹´ë©”ë¼ í”„ë ˆì„ (30-60fps)
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RealtimeDirector.processFrame()          â”‚
â”‚  if currentReference == nil {            â”‚
â”‚    return "ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”"    â”‚
â”‚  }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: AnalysisEngine ì‹¤í–‰              â”‚
â”‚  í˜„ì¬ í”„ë ˆì„ ë¶„ì„                         â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: ~25ms                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: RuleEngine ì‹¤í–‰                  â”‚
â”‚  í˜„ì¬ ì¸¡ì •ê°’ ê³„ì‚°                         â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: ~5ms                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: ComparisonEngine ì‹¤í–‰            â”‚
â”‚                                          â”‚
â”‚ 3-1. Gap Analysis                        â”‚
â”‚   gaps = []                              â”‚
â”‚                                          â”‚
â”‚   // êµ¬ë„ ì°¨ì´                            â”‚
â”‚   compositionGap = {                     â”‚
â”‚     category: .composition,              â”‚
â”‚     current: (0.5, 0.5),                 â”‚
â”‚     target: (0.33, 0.33),                â”‚
â”‚     delta: (0.17, 0.17),                 â”‚
â”‚     priority: 1                          â”‚
â”‚   }                                      â”‚
â”‚                                          â”‚
â”‚   // ì•µê¸€ ì°¨ì´                            â”‚
â”‚   if currentAngle != referenceAngle {    â”‚
â”‚     angleGap = {...}                     â”‚
â”‚   }                                      â”‚
â”‚                                          â”‚
â”‚   // ì–¼êµ´ ê°ë„ ì°¨ì´                       â”‚
â”‚   if |curYaw - refYaw| > 10 {           â”‚
â”‚     faceGap = {...}                      â”‚
â”‚   }                                      â”‚
â”‚                                          â”‚
â”‚   // í¬ì¦ˆ ì°¨ì´ (ì ì‘í˜•)                   â”‚
â”‚   poseGaps = AdaptivePoseComparator      â”‚
â”‚     .comparePoses(ref, cur)              â”‚
â”‚                                          â”‚
â”‚ 3-2. Priority Sorting                    â”‚
â”‚   gaps.sort(by: priority)                â”‚
â”‚                                          â”‚
â”‚ 3-3. Feedback Generation                 â”‚
â”‚   feedbacks = []                         â”‚
â”‚   for gap in gaps.prefix(5) {           â”‚
â”‚     feedback = FeedbackGenerator         â”‚
â”‚       .generate(gap)                     â”‚
â”‚     feedbacks.append(feedback)           â”‚
â”‚   }                                      â”‚
â”‚                                          â”‚
â”‚ 3-4. Completion Check                    â”‚
â”‚   if gaps.isEmpty {                      â”‚
â”‚     feedbacks = ["âœ… ì™„ë²½í•©ë‹ˆë‹¤!"]       â”‚
â”‚   }                                      â”‚
â”‚                                          â”‚
â”‚  ì²˜ë¦¬ ì‹œê°„: ~5ms                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: UI ì—…ë°ì´íŠ¸                       â”‚
â”‚  FeedbackOverlayì— í”¼ë“œë°± í‘œì‹œ            â”‚
â”‚    [                                     â”‚
â”‚      "ğŸ“ ì™¼ìª½ìœ¼ë¡œ 50cm (3ë¶„í•  êµ¬ë„)",     â”‚
â”‚      "ğŸ“· ì¹´ë©”ë¼ë¥¼ 15cm ë‚®ì¶°ì£¼ì„¸ìš”",       â”‚
â”‚      "ğŸ‘¤ ê³ ê°œë¥¼ ì™¼ìª½ìœ¼ë¡œ 10ë„"            â”‚
â”‚    ]                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
ğŸ”„ ë‹¤ìŒ í”„ë ˆì„ (ë°˜ë³µ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ ì²˜ë¦¬ ì‹œê°„: 25 + 5 + 5 = 35ms
FPS: 28 fps (ì‹¤ì œë¡œëŠ” 30-60fps cap)
```

---

## 6. íŒŒì¼ êµ¬ì¡°

### 6.1 iOS (Swift)

```
ios/TryAngleApp/
â”‚
â”œâ”€â”€ App/
â”‚   â”œâ”€â”€ TryAngleApp.swift                 # ì•± ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚   â””â”€â”€ Info.plist
â”‚
â”œâ”€â”€ Views/                                # UI Layer
â”‚   â”œâ”€â”€ CameraView.swift                  # ë©”ì¸ ì¹´ë©”ë¼ í™”ë©´
â”‚   â”œâ”€â”€ ReferenceSelectionView.swift      # ë ˆí¼ëŸ°ìŠ¤ ì„ íƒ í™”ë©´
â”‚   â”œâ”€â”€ FeedbackOverlay.swift             # í”¼ë“œë°± ì˜¤ë²„ë ˆì´
â”‚   â”œâ”€â”€ ControlsView.swift                # ì»¨íŠ¸ë¡¤ ë²„íŠ¼
â”‚   â””â”€â”€ Components/
â”‚       â”œâ”€â”€ GridOverlay.swift             # 3ë¶„í•  ê·¸ë¦¬ë“œ í‘œì‹œ
â”‚       â””â”€â”€ FeedbackItemView.swift        # ê°œë³„ í”¼ë“œë°± ì•„ì´í…œ
â”‚
â”œâ”€â”€ Services/                             # Business Logic
â”‚   â”œâ”€â”€ RealtimeDirector.swift            # ğŸ”¥ ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ Analysis/                         # Layer 1: Analysis
â”‚   â”‚   â”œâ”€â”€ VisionAnalyzer.swift          # Vision Framework wrapper
â”‚   â”‚   â””â”€â”€ DepthEstimator.swift          # ARKit depth (optional)
â”‚   â”‚
â”‚   â”œâ”€â”€ RuleEngine/                       # Layer 2: Rule Engine
â”‚   â”‚   â”œâ”€â”€ CompositionAnalyzer.swift     # êµ¬ë„ ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ CameraAngleDetector.swift     # ì•µê¸€ ê°ì§€
â”‚   â”‚   â”œâ”€â”€ AngleCalculator.swift         # ê°ë„ ê³„ì‚°
â”‚   â”‚   â””â”€â”€ AdaptivePoseComparator.swift  # ì ì‘í˜• í¬ì¦ˆ ë¹„êµ
â”‚   â”‚
â”‚   â””â”€â”€ Comparison/                       # Layer 3: Comparison
â”‚       â”œâ”€â”€ GapAnalyzer.swift             # ì°¨ì´ ë¶„ì„
â”‚       â”œâ”€â”€ FeedbackGenerator.swift       # í”¼ë“œë°± ìƒì„±
â”‚       â””â”€â”€ PriorityManager.swift         # ìš°ì„ ìˆœìœ„ ê´€ë¦¬
â”‚
â”œâ”€â”€ Models/                               # Data Models
â”‚   â”œâ”€â”€ ReferenceData.swift
â”‚   â”œâ”€â”€ AnalysisResult.swift
â”‚   â”œâ”€â”€ MeasurementResult.swift
â”‚   â”œâ”€â”€ Feedback.swift
â”‚   â””â”€â”€ Enums.swift                       # CompositionType, CameraAngle, ...
â”‚
â”œâ”€â”€ Utils/
â”‚   â”œâ”€â”€ GeometryHelpers.swift             # ê¸°í•˜í•™ ê³„ì‚°
â”‚   â”œâ”€â”€ GridGenerator.swift               # ê·¸ë¦¬ë“œ ìƒì„±
â”‚   â””â”€â”€ Extensions.swift
â”‚
â””â”€â”€ Resources/
    â”œâ”€â”€ Assets.xcassets
    â””â”€â”€ Localizable.strings               # í•œêµ­ì–´ ë©”ì‹œì§€
```

### 6.2 Android (Kotlin)

```
android/app/src/main/java/com/tryangle/
â”‚
â”œâ”€â”€ TryAngleApplication.kt                # ì•± ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚
â”œâ”€â”€ ui/                                   # UI Layer
â”‚   â”œâ”€â”€ camera/
â”‚   â”‚   â”œâ”€â”€ CameraScreen.kt               # ë©”ì¸ ì¹´ë©”ë¼ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ ReferenceSelectionScreen.kt   # ë ˆí¼ëŸ°ìŠ¤ ì„ íƒ
â”‚   â”‚   â””â”€â”€ FeedbackOverlay.kt            # í”¼ë“œë°± ì˜¤ë²„ë ˆì´
â”‚   â”‚
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ GridOverlay.kt
â”‚       â””â”€â”€ FeedbackItem.kt
â”‚
â”œâ”€â”€ service/                              # Business Logic
â”‚   â”œâ”€â”€ RealtimeDirector.kt               # ğŸ”¥ ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ analysis/                         # Layer 1: Analysis
â”‚   â”‚   â”œâ”€â”€ MLKitAnalyzer.kt              # ML Kit wrapper
â”‚   â”‚   â””â”€â”€ DepthEstimator.kt             # ARCore depth (optional)
â”‚   â”‚
â”‚   â”œâ”€â”€ rule/                             # Layer 2: Rule Engine
â”‚   â”‚   â”œâ”€â”€ CompositionAnalyzer.kt
â”‚   â”‚   â”œâ”€â”€ CameraAngleDetector.kt
â”‚   â”‚   â”œâ”€â”€ AngleCalculator.kt
â”‚   â”‚   â””â”€â”€ AdaptivePoseComparator.kt
â”‚   â”‚
â”‚   â””â”€â”€ comparison/                       # Layer 3: Comparison
â”‚       â”œâ”€â”€ GapAnalyzer.kt
â”‚       â”œâ”€â”€ FeedbackGenerator.kt
â”‚       â””â”€â”€ PriorityManager.kt
â”‚
â”œâ”€â”€ model/                                # Data Models
â”‚   â”œâ”€â”€ ReferenceData.kt
â”‚   â”œâ”€â”€ AnalysisResult.kt
â”‚   â”œâ”€â”€ MeasurementResult.kt
â”‚   â”œâ”€â”€ Feedback.kt
â”‚   â””â”€â”€ Enums.kt
â”‚
â”œâ”€â”€ util/
â”‚   â”œâ”€â”€ GeometryHelpers.kt
â”‚   â”œâ”€â”€ GridGenerator.kt
â”‚   â””â”€â”€ Extensions.kt
â”‚
â””â”€â”€ res/
    â”œâ”€â”€ values/
    â”‚   â””â”€â”€ strings.xml                   # í•œêµ­ì–´ ë©”ì‹œì§€
    â””â”€â”€ drawable/
```

---

## 7. í”Œë«í¼ë³„ êµ¬í˜„

### 7.1 iOS - Vision Framework

#### **ì–¼êµ´ ê°ì§€ ë° ëœë“œë§ˆí¬**
```
ì‚¬ìš©: VNDetectFaceLandmarksRequest

ì¶œë ¥:
  - boundingBox: CGRect
  - landmarks: VNFaceLandmarks2D
    * leftEye, rightEye
    * nose
    * leftEar, rightEar
    * outerLips, innerLips
  - yaw, pitch, roll (iOS 14+)

ì²˜ë¦¬ ì‹œê°„: ~8ms
ì •í™•ë„: â­â­â­â­â­
```

#### **ëª¸ í¬ì¦ˆ ê°ì§€**
```
ì‚¬ìš©: VNDetectHumanBodyPoseRequest

ì¶œë ¥:
  - 17ê°œ keypoints
  - confidence per keypoint
  - normalized coordinates (0-1)

ì²˜ë¦¬ ì‹œê°„: ~12ms
ì •í™•ë„: â­â­â­â­â­
```

#### **ê¹Šì´ ì¶”ì • (ì„ íƒ)**
```
Option 1: ARKit LiDAR (iPhone 12 Pro ì´ìƒ)
  - ì‹¤ì œ ê¹Šì´ (ë¯¸í„°)
  - ë§¤ìš° ì •í™•
  - í•˜ë“œì›¨ì–´ ì œí•œ

Option 2: ì‚¬ìš© ì•ˆ í•¨
  - ê¹Šì´ ì—†ì´ë„ ëŒ€ë¶€ë¶„ ê¸°ëŠ¥ ì‘ë™
  - ë°°ê²½ ì••ì¶•ë„ ë¶„ì„ë§Œ ë¶ˆê°€
```

### 7.2 Android - ML Kit

#### **ì–¼êµ´ ê°ì§€ ë° ëœë“œë§ˆí¬**
```
ì‚¬ìš©: FaceDetection (ML Kit)

ì„¤ì •:
  - PerformanceMode: FAST
  - LandmarkMode: ALL
  - ContourMode: NONE (ë¹ ë¥´ê²Œ)
  - enableTracking: true âœ… ì¤‘ìš”!

ì¶œë ¥:
  - boundingBox: Rect
  - landmarks: List<FaceLandmark>
  - headEulerAngleY (yaw)
  - headEulerAngleZ (roll)

ì²˜ë¦¬ ì‹œê°„: ~8ms
ì •í™•ë„: â­â­â­â­â­
```

#### **ëª¸ í¬ì¦ˆ ê°ì§€**
```
ì‚¬ìš©: PoseDetection (ML Kit)

ì„¤ì •:
  - AccuratePoseDetectorOptions
  - DetectorMode: STREAM_MODE âœ… ì¤‘ìš”!

ì¶œë ¥:
  - 17ê°œ PoseLandmark
  - confidence per landmark
  - normalized coordinates

ì²˜ë¦¬ ì‹œê°„: ~12ms
ì •í™•ë„: â­â­â­â­
```

#### **ê¹Šì´ ì¶”ì • (ì„ íƒ)**
```
Option 1: ARCore Depth API
  - ì§€ì› ê¸°ê¸° ì œí•œ
  - ì •í™•ë„ ì–‘í˜¸

Option 2: ì‚¬ìš© ì•ˆ í•¨
  - ëŒ€ë¶€ë¶„ ê¸°ëŠ¥ ì‘ë™
```

---

## 8. ì„±ëŠ¥ ëª©í‘œ

### 8.1 ì²˜ë¦¬ ì‹œê°„ ëª©í‘œ

| ì‘ì—… | ëª©í‘œ ì‹œê°„ | ìµœëŒ€ í—ˆìš© |
|------|----------|----------|
| **ì–¼êµ´ ê°ì§€** | 8ms | 15ms |
| **í¬ì¦ˆ ê°ì§€** | 12ms | 20ms |
| **ê·œì¹™ ì—”ì§„** | 5ms | 10ms |
| **ë¹„êµ/í”¼ë“œë°±** | 5ms | 10ms |
| **ì´ ì²˜ë¦¬ ì‹œê°„** | 30ms | 50ms |
| **FPS** | 33 fps | 20 fps |

### 8.2 ë©”ëª¨ë¦¬ ëª©í‘œ

| í•­ëª© | ëª©í‘œ | ìµœëŒ€ í—ˆìš© |
|------|------|----------|
| **ìƒì£¼ ë©”ëª¨ë¦¬** | 50MB | 100MB |
| **í”¼í¬ ë©”ëª¨ë¦¬** | 150MB | 250MB |
| **GPU ë©”ëª¨ë¦¬** | Native | - |

### 8.3 ì‚¬ìš©ì ê²½í—˜ ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ |
|------|------|
| **ì²´ê° ì§€ì—°** | <50ms (ì¸ì§€ ë¶ˆê°€) |
| **í”„ë ˆì„ ë“œë¡­** | <5% |
| **ë°°í„°ë¦¬ ì†Œëª¨** | <15%/hour |
| **ì•± í¬ë˜ì‹œìœ¨** | <0.1% |

---

## 9. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### 9.1 Phase 1: Core MVP (2ì£¼)

```
Week 1: ê¸°ë³¸ ì¸í”„ë¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ì¹´ë©”ë¼ ì—°ë™ (CameraView)
âœ… Vision/ML Kit í†µí•© (VisionAnalyzer, MLKitAnalyzer)
âœ… ë ˆí¼ëŸ°ìŠ¤ ì„ íƒ ë° ë¶„ì„
âœ… ë°ì´í„° ëª¨ë¸ ì •ì˜

Week 2: ê¸°ë³¸ í”¼ë“œë°±
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… êµ¬ë„ ë¶„ì„ (3ë¶„í• ë§Œ)
âœ… ì–¼êµ´ ìœ„ì¹˜ ë¹„êµ
âœ… ê°„ë‹¨í•œ í”¼ë“œë°± ìƒì„±
âœ… FeedbackOverlay UI

ì‚°ì¶œë¬¼:
  - ì–¼êµ´ ìœ„ì¹˜ ê¸°ë°˜ "ì™¼ìª½/ì˜¤ë¥¸ìª½" í”¼ë“œë°±
  - 3ë¶„í•  êµ¬ë„ ì¸ì‹
  - ì‹¤ì‹œê°„ 30fps ì‘ë™
```

### 9.2 Phase 2: ê³ ê¸‰ ê¸°ëŠ¥ (2ì£¼)

```
Week 3: ì•µê¸€ ë° í¬ì¦ˆ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… CameraAngleDetector êµ¬í˜„
âœ… AdaptivePoseComparator êµ¬í˜„
âœ… ì–¼êµ´ ê°ë„ ë¹„êµ (yaw, pitch)
âœ… ëª¸ ê´€ì ˆ ê°ë„ ë¹„êµ

Week 4: ì •êµí™” ë° ìµœì í™”
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… í™©ê¸ˆë¹„ìœ¨ êµ¬ë„ ì¶”ê°€
âœ… í”¼ë“œë°± ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ
âœ… ì§„í–‰ë„ ë°” ì¶”ê°€
âœ… ì„±ëŠ¥ ìµœì í™” (ë©”ëª¨ë¦¬, ë°°í„°ë¦¬)

ì‚°ì¶œë¬¼:
  - ë¡œìš°ì•µê¸€/í•˜ì´ì•µê¸€ í”¼ë“œë°±
  - í¬ì¦ˆ ê°ë„ í”¼ë“œë°±
  - "ì™„ë²½í•©ë‹ˆë‹¤!" ê°ì§€
  - ë¶€ë“œëŸ¬ìš´ 40-60fps
```

### 9.3 Phase 3: Polish (1ì£¼)

```
Week 5: UI/UX ë° í…ŒìŠ¤íŠ¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… UI ì• ë‹ˆë©”ì´ì…˜
âœ… í•œêµ­ì–´ ë©”ì‹œì§€ ë‹¤ë“¬ê¸°
âœ… ê·¸ë¦¬ë“œ ì˜¤ë²„ë ˆì´
âœ… ì‹¤ì œ ê¸°ê¸° í…ŒìŠ¤íŠ¸
âœ… ë²„ê·¸ ìˆ˜ì •

ì‚°ì¶œë¬¼:
  - ì™„ì„±ë„ ë†’ì€ ì•±
  - ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´
  - ì•ˆì •ì ì¸ ì‘ë™
```

---

## 10. ì œì•½ì‚¬í•­ ë° í•œê³„

### 10.1 ê¸°ìˆ ì  í•œê³„

```
âŒ êµ¬ë„ "ì´í•´" ë¶ˆê°€
   - "ì™œ" ê·¸ êµ¬ë„ë¥¼ ì¼ëŠ”ì§€ ì„¤ëª… ëª»í•¨
   - ë³µì¡í•œ êµ¬ë„ (ëŒ€ê°ì„ , í”„ë ˆì„ ì¸ í”„ë ˆì„) ì¸ì‹ ì–´ë ¤ì›€
   â†’ í•´ê²°: ê¸°ë³¸ êµ¬ë„ (3ë¶„í• , í™©ê¸ˆë¹„ìœ¨, ì¤‘ì•™)ë§Œ ì§€ì›

âŒ ì¤Œ vs ê±°ë¦¬ êµ¬ë¶„ ì•½í•¨
   - EXIF ì—†ìœ¼ë©´ êµ¬ë¶„ ë¶ˆê°€
   - Depth ì„¼ì„œ ìˆì–´ì•¼ ë°°ê²½ ì••ì¶•ë„ ë¶„ì„ ê°€ëŠ¥
   â†’ í•´ê²°: ë‹¨ìˆœíˆ "ê°€ê¹Œì´/ë©€ë¦¬"ë¡œë§Œ ì•ˆë‚´

âŒ ë³µì¡í•œ í¬ì¦ˆ ì¸ì‹ í•œê³„
   - ê²¹ì¹œ ê´€ì ˆ, ê°€ë ¤ì§„ ë¶€ë¶„ ì¸ì‹ ì–´ë ¤ì›€
   â†’ í•´ê²°: ì ì‘í˜• ë¹„êµ (ë³´ì´ëŠ” ë¶€ë¶„ë§Œ)

âŒ ì¡°ëª…/ìƒ‰ê° ë¶„ì„ ë¶ˆê°€
   - Florence-2 ì—†ì´ëŠ” ì–´ë ¤ì›€
   â†’ í•´ê²°: ì´ ë²„ì „ì—ì„œëŠ” ì œì™¸
```

### 10.2 ì‚¬ìš©ì„± í•œê³„

```
âš ï¸ í”¼ë“œë°±ì˜ ì¶”ìƒì„±
   - "ì™œ ê·¸ë˜ì•¼ í•˜ëŠ”ì§€" ì„¤ëª… ë¶€ì¡±
   - ë‹¨ìˆœ ìˆ˜ì¹˜ ë¹„êµë§Œ
   â†’ ì™„í™”: ì´ìœ ë¥¼ ê´„í˜¸ì— ì¶”ê°€ "(3ë¶„í•  êµ¬ë„)"

âš ï¸ ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ ëŒ€ì‘ ì•½í•¨
   - ì—¬ëŸ¬ í”¼ì‚¬ì²´
   - ë™ì ì¸ í¬ì¦ˆ
   â†’ ì™„í™”: "ì£¼ í”¼ì‚¬ì²´" ìë™ ì„ íƒ

âš ï¸ ë ˆí¼ëŸ°ìŠ¤ í’ˆì§ˆ ì˜ì¡´
   - íë¦¿í•œ ì´ë¯¸ì§€, ê°€ë ¤ì§„ ì–¼êµ´ ë“±
   â†’ ì™„í™”: ë¶„ì„ ì‹¤íŒ¨ ì‹œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€
```

### 10.3 ë””ë°”ì´ìŠ¤ ì œí•œ

```
í•„ìˆ˜ ìš”êµ¬ì‚¬í•­:
  - iOS 14+ (Vision Framework yaw/pitch)
  - Android 5.0+ (ML Kit)
  - ìµœì†Œ 2GB RAM

ì„ íƒ ê¸°ëŠ¥:
  - ARKit LiDAR (iPhone 12 Pro+)
  - ARCore Depth (ì¼ë¶€ Android)
  â†’ ì—†ì–´ë„ ëŒ€ë¶€ë¶„ ê¸°ëŠ¥ ì‘ë™
```

---

## 11. ì„±ê³µ ê¸°ì¤€

### 11.1 ê¸°ëŠ¥ ì™„ì„±ë„

```
âœ… ë ˆí¼ëŸ°ìŠ¤ ì„ íƒ ë° ë¶„ì„ ì‘ë™
âœ… 3ë¶„í•  êµ¬ë„ ì¸ì‹
âœ… ì–¼êµ´ ìœ„ì¹˜ í”¼ë“œë°± ("ì™¼ìª½ìœ¼ë¡œ 50cm")
âœ… ì¹´ë©”ë¼ ì•µê¸€ í”¼ë“œë°± ("ì¹´ë©”ë¼ë¥¼ 15cm ë‚®ì¶°ì£¼ì„¸ìš”")
âœ… ì–¼êµ´ ê°ë„ í”¼ë“œë°± ("ê³ ê°œë¥¼ ì™¼ìª½ìœ¼ë¡œ 10ë„")
âœ… í¬ì¦ˆ í”¼ë“œë°± ("ì™¼íŒ”ì„ 15ë„ í´ì„¸ìš”")
âœ… "ì™„ë²½í•©ë‹ˆë‹¤!" ê°ì§€
âœ… 40fps ì´ìƒ ì‹¤ì‹œê°„ ì‘ë™
```

### 11.2 ì‚¬ìš©ì ê²½í—˜

```
âœ… ë¶€ë“œëŸ¬ìš´ í™”ë©´ (40-60fps)
âœ… ì¦‰ê°ì ì¸ í”¼ë“œë°± (<50ms)
âœ… ëª…í™•í•œ í•œêµ­ì–´ ë©”ì‹œì§€
âœ… ì˜¤í”„ë¼ì¸ ì‘ë™
âœ… ë°°í„°ë¦¬ ì†Œëª¨ ì ìŒ (<15%/hour)
```

### 11.3 ì½”ë“œ í’ˆì§ˆ

```
âœ… ëª¨ë“ˆí™”ëœ êµ¬ì¡°
âœ… í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì„¤ê³„
âœ… ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
âœ… í”Œë«í¼ë³„ ìµœì í™” (iOS/Android)
```

---

## 12. ë‹¤ìŒ ë‹¨ê³„ (V2 í•˜ì´ë¸Œë¦¬ë“œë¡œ í™•ì¥)

V1 ì™„ì„± í›„ V2 (í•˜ì´ë¸Œë¦¬ë“œ)ë¡œ í™•ì¥í•˜ë ¤ë©´:

```
ì¶”ê°€í•  ê¸°ëŠ¥:
  âœ… Florence-2 êµ¬ë„ "ì´í•´"
  âœ… Grounding DINO ì •ë°€ ì¸¡ì •
  âœ… Depth Anything V2 ê¹Šì´ ë¶„ì„
  âœ… ì„œë²„ í†µì‹  ëª¨ë“ˆ

ìœ ì§€í•  ê¸°ëŠ¥:
  âœ… ì˜¨ë””ë°”ì´ìŠ¤ ì‹¤ì‹œê°„ (Tier 1)
  âœ… ëª¨ë“  V1 ì»´í¬ë„ŒíŠ¸

ë³€ê²½ ìµœì†Œí™”:
  - RealtimeDirectorì— ì„œë²„ í˜¸ì¶œë§Œ ì¶”ê°€
  - ê¸°ì¡´ ë¡œì§ì€ ê·¸ëŒ€ë¡œ ìœ ì§€
  - Fallbackìœ¼ë¡œ V1 ì‚¬ìš©
```

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ìµœì¢… ìˆ˜ì •**: 2025-11-18
**ë‹¤ìŒ ë¬¸ì„œ**: DESIGN_V2_HYBRID.md
